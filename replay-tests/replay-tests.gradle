sourceSets {
  main {
    java {srcDir "app"}
    resources {srcDir "app"}
    resources {
      srcDir 'conf'
      include '**/*'
    }
  }
  test {
    java {srcDir "test"}
    resources {srcDir "test"}
  }
}

dependencies {
  implementation project(':framework')
  implementation project(':fastergt')

  testImplementation("org.assertj:assertj-core:$assertjVersion")
  testImplementation('com.codeborne:selenide:6.9.0')
  testImplementation('junit:junit:4.13.2')
  testImplementation("org.mockito:mockito-core:$mockitoVersion")
}

test {
  exclude 'ui/**'
}

task uitest(type: Test) {
  include 'ui/**/*'
  systemProperties['BUILD_URL'] = System.getenv()['BUILD_URL']
  System.properties.stringPropertyNames()
      .findAll { it.startsWith("selenide.") }
      .forEach {
        println " set ${it} to ${System.getProperty(it)}"
        systemProperties[it] = System.getProperty(it)
      }
  outputs.upToDateWhen {false}
}
